<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo Form</title>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Parsley JS -->
    <script src="https://parsleyjs.org/dist/parsley.min.js"></script>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background: #f4f4f4;
      }
      form {
        max-width: 800px;
        margin: 0 auto;
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
      }
      label {
        display: block;
        margin-top: 12px;
        font-weight: 600;
      }
      input,
      select,
      textarea,
      button {
        width: 100%;
        padding: 8px;
        margin-top: 6px;
        box-sizing: border-box;
      }
      .row {
        display: flex;
        gap: 12px;
      }
      .row > * {
        flex: 1;
      }
      .inline {
        display: inline-block;
        width: auto;
        margin-right: 8px;
      }
      fieldset {
        margin-top: 12px;
        padding: 10px;
      }
      .small {
        width: auto;
        display: inline-block;
      }

      input.parsley-success,
      select.parsley-success,
      textarea.parsley-success {
        color: #468847;
        background-color: #dff0d8;
        border: 1px solid #d6e9c6;
      }

      input.parsley-error,
      select.parsley-error,
      textarea.parsley-error {
        color: #b94a48;
        background-color: #f2dede;
        border: 1px solid #eed3d7;
      }

      .parsley-errors-list {
        margin: 2px 0 3px;
        padding: 0;
        list-style-type: none;
        font-size: 0.9em;
        line-height: 0.9em;
        opacity: 0;
        color: #b94a48;

        transition: all 0.3s ease-in;
        -o-transition: all 0.3s ease-in;
        -moz-transition: all 0.3s ease-in;
        -webkit-transition: all 0.3s ease-in;
      }

      .parsley-errors-list.filled {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <h1>Eingabe Evaluation</h1>
    <div class="container">
      <div class="bs-callout bs-callout-warning hidden">
        <h4>Oh snap</h4>
        <p>This form seems to be invalid</p>
      </div>

      <div class="bs-callout bs-callout-info hidden">
        <h4>Yay</h4>
        <p>Everything seems to be ok</p>
      </div>

      <form id="demo-form" data-parsley-validate>
        <div class="form-group">
          <label for="fullname">Full Name:</label>
          <input
            type="text"
            id="fullname"
            class="form-control"
            name="fullname"
            required
          />

          <label for="age">Age (18–99):</label>
          <input type="number" id="age" name="age" min="18" max="99" required />
        </div>
        <label for="tel">tel-number</label>
        <input
          type="tel"
          id="tel"
          name="tel_example"
          placeholder="+49 123 456789"
          required
        />
        <div class="form-group">
          <label for="email">Email:</label>
          <input
            type="email"
            id="email"
            class="form-control"
            name="email"
            required
            data-parsley-trigger="change"
          />
        </div>

        <!-- Passwortfeld mit RegEx -->
        <label for="pw">Password</label>
        <input
          type="password"
          id="pw"
          name="password_example"
          placeholder="Passwort"
          required
          data-parsley-pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*]).{8,}$"
          data-parsley-pattern-message="Password must be at least 8 characters long and include 1 uppercase letter, 1 number, and 1 special character."
        />

        <div class="form-group">
          <label for="file">Please provide a PNG or JPG image</label>
          <input
            type="file"
            id="file"
            class="form-control"
            name="file"
            required
            data-parsley-maxFileSize="42"
            data-parsley-fileType="png,jpg"
            accept=".png,.jpg"
          />
        </div>

        <div class="form-group">
          <label>Preferred Contact Method *:</label><br />
          Email
          <input
            type="radio"
            name="contactMethod"
            value="Email"
            required
            data-parsley-multiple="contactMethod"
          />

          Phone
          <input
            type="radio"
            name="contactMethod"
            value="Phone"
            data-parsley-multiple="contactMethod"
          />
        </div>
        <label for="color">Lieblingsfarbe:</label>
        <input type="color" id="color" name="color" />

        <label for="date">Geburtsdatum:</label>
        <input type="date" id="date" name="date" required />

        <label for="time">Lieblingszeit:</label>
        <input type="time" id="time" name="time" />

        <label for="range">Zufriedenheit (0–100):</label>
        <input type="range" id="range" name="range" min="0" max="100" />

        <div class="form-group">
          <label>Hobbies (Optional, but 2 minimum):</label><br />
          Skiing
          <input
            type="checkbox"
            name="hobbies[]"
            value="ski"
            data-parsley-mincheck="2"
            data-parsley-multiple="hobbies"
          /><br />
          Running
          <input
            type="checkbox"
            name="hobbies[]"
            value="run"
            data-parsley-multiple="hobbies"
          /><br />
          Eating
          <input
            type="checkbox"
            name="hobbies[]"
            value="eat"
            data-parsley-multiple="hobbies"
          /><br />
          Sleeping
          <input
            type="checkbox"
            name="hobbies[]"
            value="sleep"
            data-parsley-multiple="hobbies"
          /><br />
          Reading
          <input
            type="checkbox"
            name="hobbies[]"
            value="read"
            data-parsley-multiple="hobbies"
          /><br />
          Coding
          <input
            type="checkbox"
            name="hobbies[]"
            value="code"
            data-parsley-multiple="hobbies"
          /><br />
        </div>

        <div class="form-group">
          <label for="heard">Heard about us via :</label>
          <select id="heard" class="form-control" required>
            <option value="">Choose..</option>
            <option value="press">Press</option>
            <option value="net">Internet</option>
            <option value="mouth">Word of mouth</option>
            <option value="other">Other..</option>
          </select>
        </div>

        <div class="form-group">
          <label for="message">Message (20 chars min, 100 max) :</label>
          <textarea
            id="message"
            class="form-control"
            name="message"
            data-parsley-minlength="20"
            data-parsley-maxlength="100"
            data-parsley-minlength-message="You need to enter at least a 20 character comment."
            data-parsley-validation-threshold="10"
          ></textarea>
        </div>

        <label>Geschlecht:</label>
        <input type="radio" name="gender" value="m" required /> Männlich
        <input type="radio" name="gender" value="w" /> Weiblich

        <label for="terms">
          <input type="checkbox" id="terms" name="terms" required />Ich
          akzeptiere die Bedingungen</label
        >

        <div class="row" style="margin-top: 18px">
          <button type="submit" id="submitBtn">validate</button>
          <button
            type="reset"
            id="resetBtn"
            style="background: #e74c3c; color: #fff"
          >
            Zurücksetzen (reset)
          </button>
        </div>
      </form>
    </div>

    <script>
      // Parsley Setup
      $(function () {
        $("#demo-form")
          .parsley()
          .on("field:validated", function () {
            var ok = $(".parsley-error").length === 0;
            $(".bs-callout-info").toggleClass("hidden", !ok);
            $(".bs-callout-warning").toggleClass("hidden", ok);
          })
          .on("form:submit", function () {
            return false;
          });
      });

      window.parsley.addValidator("maxFileSize", {
        validateString: function (_value, maxSize, parsleyInstance) {
          if (!window.FormData) return true;
          var files = parsleyInstance.$element[0].files;
          return !files.length || files[0].size <= maxSize * 1024;
        },
        requirementType: "integer",
        messages: { en: "This file should not be larger than %s Kb" },
      });

      window.parsley.addValidator("fileType", {
        validateString: function (_value, allowedTypes, parsleyInstance) {
          var files = parsleyInstance.$element[0].files;
          if (!files.length) return true;
          var ext = files[0].name.split(".").pop().toLowerCase();
          var allowed = allowedTypes
            .split(",")
            .map((e) => e.trim().toLowerCase());
          return allowed.includes(ext);
        },
        requirementType: "string",
        messages: { en: "This file must be a PNG or JPG image" },
      });
    </script>
  </body>
</html>
